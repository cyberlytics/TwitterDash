\documentclass[conference]{IEEEtran}
\IEEEoverridecommandlockouts
% The preceding line is only needed to identify funding in the first footnote. If that is unneeded, please comment it out.
\usepackage{cite}
\usepackage{amsmath,amssymb,amsfonts}
\usepackage{algorithmic}
\usepackage{graphicx}
\usepackage{textcomp}
\usepackage{xcolor}
\usepackage{hyperref}
\usepackage{float}
\def\BibTeX{{\rm B\kern-.05em{\sc i\kern-.025em b}\kern-.08em
    T\kern-.1667em\lower.7ex\hbox{E}\kern-.125emX}}
\begin{document}

\title{Dokumentation der Softwarearchitektur des Projekts Twitter-Dash}

% Authoren	
\author{
        \IEEEauthorblockN{Hahn, Bastian}
        \IEEEauthorblockA{
                \textit{b.hahn@oth-aw.de}\\
        }
        \and

        \IEEEauthorblockN{Kleber, Martin}
        \IEEEauthorblockA{
                \textit{m.kleber2@oth-aw.de}\\
        }
        \and

        \IEEEauthorblockN{Klier, Andreas}
        \IEEEauthorblockA{
                \textit{a.klier@oth-aw.de}\\
        }
        \and

        \IEEEauthorblockN{Kreussel, Lukas}
        \IEEEauthorblockA{
                \textit{l.kreussel@oth-aw.de}\\
        }
        \and

        \IEEEauthorblockN{Paris, Felix}
        \IEEEauthorblockA{
                \textit{f.paris1@oth-aw.de}\\
        }
        \and

        \IEEEauthorblockN{Ziegler, Andreas}
        \IEEEauthorblockA{
                \textit{a.ziegler1@oth-aw.de}\\
        }
}

\maketitle

\begin{abstract}
In diesem technischem Report wird die Softwarearchitektur des Projekts 
Twitter-Dash vorgestellt. Das Projekt wurde im Rahmen der Vorlesung 
Big Data and Cloud Computing (bdcc) implementiert. Ziel der Implementierung ist es, 
ein Daschboard zu erstellen, dass aktuelle und historische Informationen zu Twitter Trends
anzeigen und analysieren kann.
\end{abstract}

\begin{IEEEkeywords}
 Twitter, Big Data, Database, Web UI, Data Analysis
\end{IEEEkeywords}

\section{Introduction}
Bei der Applikation Twitter-Dash werden von der Twitter API alle 15 Min die aktuellen Trends
abgegriffen und in einer lokalen Datenbank gespeichert. Die Kommunikation zwischen den 
einzelnen Services ist über eine grpc Schnittstelle realisiert. Die Interaktion des Anwenders mit der Applikation erfolgt dabei über eine Web-UI basierend auf dem 
React Webframework.

\section{Architektur Allgemein}
\begin{figure*}
    \centering
    \includegraphics[width=\textwidth]{Architecture.png}
    \caption{Übersicht Gesamtsystem}
\end{figure*}

Als Architektur wird ein Ansatz verfolgt, der sich stark an Microservices orientiert.
Dadurch wird eine abgeschlossene Logik von Front- und Backendkomponenten erreicht, die jeweils
von einem Subteam entwickelt wird. Diese gekapselten Einheiten können jeweils als isolierte Applikation der Containervisualisierung Docker betrieben werden. 
Durch eine zentrale Konfigurationsdatei des Containers können diese einfach zwischen den Teammitgliedern
ausgetauscht und ausgeführt werden. Damit wird eine hohe Portabilität gewährleistet.
Die Kommunikation der Teilsysteme wird durch eine sprachunabhängige gRPC-Schnittstelle angeboten. 
Dadurch wird es möglich einzelne Komponenten des Gesamtsystems auszutauschen, ohne größere Veränderungen an den anderen Microservices vornehmen zu müssen.\cite{microservices}

%TODO Frontend

\section{Datenakquise}

\section{Datenverarbeitung}

\section{Datenbank}
Alle Datenbank Anfragen werden durch einen database service abstrahiert, der die Funktionen als gRPC Schnittstelle anbietet. Dabei laufen die Datenbank und der database service in jeweils einem eigenen Container. 
Durch die gRPC Schnittstelle können die Daten typsicher und Platform sowie Programmiersprache unabhängig an den database service übergeben werden und von diesem zurückgeliefert werden.
\\
Vom database service werden folgende Funktionen angeboten:
\\
Zum speichern in die Datenbank:
\\
\smallskip
\textbf{Trends speichern (StoreTrends)}
\begin{itemize}
    \item Beschreibung: Speichert Trends in die Datenbank
    \item Parameter:
        \begin{itemize}
            \item Zeitstempel
            \item Liste von Trends mit folgenden Attributen:
                \begin{itemize}
                    \item trendtype
                    \item name
                    \item country
                    \item placement
                    \item tweetVolume24
                \end{itemize}
        \end{itemize}
    \item Rückgabe: Keine
\end{itemize}

\smallskip
\textbf{Sentiment speichern (StoreSentiment)}
\begin{itemize}
    \item Beschreibung: Speichert Sentiment in die Datenbank
    \item Parameter:
        \begin{itemize}
            \item Liste von Sentiments mit folgenden Attributen:
                \begin{itemize}
                    \item tweet
                    \item Sentiment
                    \item topic
                \end{itemize}
        \end{itemize}
    \item Rückgabe: Keine
\end{itemize}

zum Laden aus der Datenbank:
\\
\smallskip
\textbf{aktuelle Trends abrufen (GetCurrentTrends)}
\begin{itemize}
    \item Beschreibung: Lädt aktuelle Trends aus der Datenbank
    \item Parameter:
        \begin{itemize}
            \item country
            \item limit
        \end{itemize}
    \item Rückgabe: 
        \begin{itemize}
            \item Zeitstempel
            \item Liste von Trends mit folgenden Attributen:
                \begin{itemize}
                    \item trendtype
                    \item name
                    \item country
                    \item placement
                    \item tweetVolume24
                \end{itemize}
        \end{itemize}
\end{itemize}
\
smallskip
\textbf{vergangene Trends abrufen (GetRecentTrends)}
\begin{itemize}
    \item Beschreibung: Lädt vergangene Trends aus der Datenbank
    \item Parameter:
        \begin{itemize}
            \item hastag
            \item country
            \item startdate (optional)
            \item enddate (optional)
        \end{itemize}
    \item Rückgabe: 
        \begin{itemize}
            \item Liste an Trends mit folgenden Attributen:
                \begin{itemize}
                    \item Zeitstempel
                    \item Liste von Trends mit folgenden Attributen:
                        \begin{itemize}
                            \item trendtype
                            \item name
                            \item country
                            \item placement
                            \item tweetVolume24
                        \end{itemize}
                \end{itemize}
        \end{itemize}
\end{itemize}

\smallskip
\textbf{Vorhandene Länder abrufen (GetAvailableCountries)}
\begin{itemize}
    \item Beschreibung: Lädt vorhandene Länder aus der Datenbank
    \item Parameter: Keine
    \item Rückgabe: Liste mit allen Ländern, die in der Datenbak vorhanden sind
\end{itemize}

\smallskip
\textbf{Trends speichern (GetAvailableSentimentTrends)}
\begin{itemize}
    \item Beschreibung: Lädt vorhandene Trends aus der Datenbank
    \item Parameter: 
        \begin{itemize}
            \item query
            \item limit
            \item country
        \end{itemize}
    \item Rückgabe: Liste an vorhandenen Sentiments
\end{itemize}

\smallskip
\textbf{aktuelle Sentiment abrufen (GetCurrentSentiment)}
\begin{itemize}
    \item Beschreibung: Lädt aktuellen Sentiment aus der Datenbank
    \item Parameter:
        \begin{itemize}
            \item Trendname
            \item Country
        \end{itemize}
    \item Rückgabe: Sentiment
\end{itemize}

\smallskip
\textbf{vergangene Sentiment abrufen (GetRecentSentiment)}
\begin{itemize}
    \item Beschreibung: Lädt vergangene Sentiment aus der Datenbank
    \item Parameter:
        \begin{itemize}
            \item Trendname
            \item Country
            \item startdate (optional)
            \item enddate (optional)
        \end{itemize}
    \item Rückgabe: Liste an Sentiments
\end{itemize}

\smallskip
\textbf{DB auf Tweet prüfen (GetUniqueTweets)}
\begin{itemize}
    \item Beschreibung: Gibt zurück, welche Tweets noch nicht in der Datenbank sind
    \item Parameter: Liste an Tweet IDs
    \item Rückgabe: Liste an Tweet IDs
\end{itemize}


\smallskip

Vom Backenend erzeugte Daten werden in einer MongoDB Datenbank gespeichert. 
Dabei werden Trends zu bestimmten Zeitpunkten gespeichert. Diese enthalten Trendtype, Trendname, Placement, Country, TweetVolume24. Für Sentiments werden die Tweets, die zu einem Trend gehören, und das jeweilige Topic gespeichert.
\\
\\
Um die Funktionalität zu gewährleisten wurden Unit Tests entworfen. Dadurch kann die interne Integrität, sowie die Anbindung an externe Systeme,
sichergestellt werden. Die Tests wurden dabei mit dem Arrange-Act-Assert-Pattern entworfen. Dieses soll eine 
übersichtliche Struktur und Einheitlichkeit garantieren.



\section{Frontend}


\begin{thebibliography}{0}
    \bibitem{microservices}Microservice-Frontend-Architekturen [Online] \url{https://www.sigs-datacom.de/uploads/tx_dmjournals/attermeyer_OTS_Microservices_Docker_16.pdf} (visited on Jun. 21, 2022)
\end{thebibliography}

\end{document}
